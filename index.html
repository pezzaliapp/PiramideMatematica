<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>La Piramide Matematica — 15 numeri</title>
  <style>
    :root{
      --bg:#ffffff;
      --brand:#0b5fff;
      --text:#0d1b2a;
      --muted:#7a869a;
      --chip:#f6f7fb;
      --chip-b:#dfe3eb;
    }
    html,body{height:100%;margin:0;background:var(--bg);color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    .bar{
      position:sticky;top:0;z-index:3;
      display:flex;flex-wrap:wrap;gap:8px;align-items:center;
      padding:10px 14px;background:var(--brand);color:#fff
    }
    .bar h1{margin:0;font-size:16px;font-weight:800;margin-right:auto}
    .sub{width:100%;font-weight:600;opacity:.8;margin-top:-2px}
    .controls{display:flex;gap:8px;align-items:center}
    .btn{
      border:0;border-radius:10px;padding:8px 12px;
      background:#fff;color:var(--brand);font-weight:800;cursor:pointer;
      touch-action:manipulation
    }
    .status{font-weight:800;margin-left:6px}
    .palette{
      display:flex;gap:6px;flex-wrap:wrap;background:#0847cf;
      padding:8px;border-radius:12px
    }
    .chip{
      display:inline-flex;align-items:center;justify-content:center;
      min-width:28px;height:28px;padding:0 8px;border-radius:999px;
      background:var(--chip);border:1px solid var(--chip-b);
      color:#111;font-weight:800;cursor:pointer;
      user-select:none; -webkit-user-select:none; touch-action:manipulation
    }
    .chip.sel{outline:2px solid #fff; box-shadow:0 0 0 2px #0002}
    #stage{height:calc(100vh - 98px)}
    @media (max-width:560px){
      .sub{font-size:12px}
      #stage{height:calc(100vh - 120px)}
    }
  </style>
</head>
<body>
  <div class="bar">
    <h1>La Piramide Matematica</h1>
    <div class="sub">Tocca un numero 1–15, poi tocca un cubo della riga alta. Trascina sullo sfondo per ruotare.</div>

    <div class="controls">
      <div class="palette" id="palette" aria-label="Selettore numeri 1-15"></div>
      <button class="btn" id="btn-shuffle">Mescola 5</button>
      <button class="btn" id="btn-reset">Reset</button>
      <span class="status" id="status">Differenze uniche: <b>0/10</b></span>
    </div>
  </div>

  <div id="stage" aria-label="Piramide 3D"></div>

  <script src="three.js"></script>
  <script src="pyramid.js"></script>
</body>
</html>
